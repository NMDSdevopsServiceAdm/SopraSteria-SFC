<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <h2 class="govuk-heading-m govuk-!-margin-bottom-7">Training and qualifications ({{ totalRecords || 0 }})</h2>
  </div>
  <div class="govuk-grid-column-one-third govuk-util__align-right">
    <button
      *ngIf="workers.length && canEditWorker"
      class="govuk-button"
      type="button"
      (click)="navigateToMultipleTraining()"
    >
      Add multiple training records
    </button>
  </div>
</div>

<app-training-link-panel *ngIf="workers.length" [workplace]="workplace" [workers]="workers"></app-training-link-panel>
<ng-container *ngIf="workers.length; else noStaffRecords">
  <div class="govuk-grid-row" *ngIf="totalRecords === 0">
    <div class="govuk-grid-column-two-thirds">
      <app-inset-text color="warning">You have not added any training or qualification records yet.</app-inset-text>
      <p>
        Many care providers use this service to store their staff training and qualification records. The service shows
        them when training is about to expire.
      </p>
      <h3>You need to click on the name of the person you want to add a training or qualification record for</h3>
    </div>
  </div>
  <app-training-info-panel
    *ngIf="workers"
    [totalExpiredTraining]="totalExpiredTraining"
    [totalExpiringTraining]="totalExpiringTraining"
    [totalStaffMissingMandatoryTraining]="staffMissingMandatoryTraining"
  ></app-training-info-panel>

  <app-training-and-qualifications-categories
    *ngIf="viewTrainingByCategory && trainingCategories?.length > 0"
    [workplace]="workplace"
    [trainingCategories]="trainingCategories"
    (viewTrainingByCategory)="handleViewTrainingByCategory($event)"
  ></app-training-and-qualifications-categories>

  <app-training-and-qualifications-summary
    *ngIf="viewTrainingByCategory === false"
    [workplace]="workplace"
    [workers]="workers"
    [workerCount]="workerCount"
    [showViewByToggle]="trainingCategories?.length > 0"
    (viewTrainingByCategory)="handleViewTrainingByCategory($event)"
  ></app-training-and-qualifications-summary>
</ng-container>
<ng-template #noStaffRecords>
  <app-inset-text color="warning" [removeTopMargin]="true"
    >You need to <a href="#" (click)="navigateToStaffRecords($event)">add staff records</a> before you start to add
    training and qualifications.</app-inset-text
  >
</ng-template>
