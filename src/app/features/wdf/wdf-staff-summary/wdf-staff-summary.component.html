<div class="govuk-form-group">
  <label class="govuk-label" for="sortByStaff"> Sort by </label>
  <select class="govuk-select" id="sortByStaff" name="sortByStaff" (change)="sortByColumn($event.target.value)">
    <option *ngFor="let sortStaffOption of sortStaffOptions | keyvalue" value="{{ sortStaffOption.key }}" [selected]="sortStaffOption.key == this.sortBy">
      {{ sortStaffOption.value }}
    </option>
  </select>
</div>
<table class="govuk-table">
  <thead class="govuk-table__head">
    <tr class="govuk-table__row">
      <th class="govuk-table__header" scope="col">Staff name</th>
      <th class="govuk-table__header" scope="col">Job role</th>
      <th class="govuk-table__header" scope="col">Last updated</th>
      <th class="govuk-table__header" scope="col">WDF requirements</th>
    </tr>
  </thead>
  <tbody class="govuk-table__body">
    <tr class="govuk-table__row" *ngFor="let worker of workers">
      <td class="govuk-table__cell govuk-!-font-weight-regular">
        <ng-container *ngIf="canViewWorker; else nameOrId">
          <a [routerLink]="getWorkerRecordPath(worker)">
            {{ worker.nameOrId }}
          </a>
        </ng-container>
        <ng-template #nameOrId>
          {{ worker.nameOrId }}
        </ng-template>
      </td>
      <td class="govuk-table__cell">{{ worker.jobRole }}</td>
      <td class="govuk-table__cell">
        <span class="govuk-visually-hidden">last updated</span>
        <span class="govuk__nowrap">{{ lastUpdated(worker.updated) }}</span>
      </td>
      <td class="govuk-table__cell">
        <app-wdf-requirements-state
          [overallWdfEligibility]="overallWdfEligibility"
          [worker]="worker"
        ></app-wdf-requirements-state>
      </td>
    </tr>
  </tbody>
</table>
