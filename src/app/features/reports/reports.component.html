<app-dashboard-header></app-dashboard-header>

<div class="row">
  <div class="col-12 col-md-12">
    <p class="heading-caption m-0 pb-4">{{ establishment?.name }}</p>
  </div>
  <div class="col-12 col-md-12">
    <h1 class="h1">Reports</h1>
  </div>
</div>

<div class="row" *ngIf="!displayWDFReport">
  <div class="col-12 col-md-12">
    <span class="text-link" (click)="displayWDF()" title="Workforce Development Fund">Workforce Development Fund</span>
  </div>
</div>

<app-eligibility-display-overview [eligibility]="eligibility" *ngIf="displayWDFReport">
</app-eligibility-display-overview>

<form
  novalidate
  (ngSubmit)="updateEffectiveFrom()"
  [formGroup]="updateEligibilityForm"
  *ngIf="displayWDFReport && reportDetails.customEffectiveFrom"
>
  <div class="form-group mb-0">
    <div class="field-group mb-0">
      <fieldset>
        <legend *ngIf="label">Update eligibility date</legend>
        <label class="date mb-0"
          >Date
          <input type="text" formControlName="date" class="form-control" placeholder="2019-03-01" />
        </label>
        <label class="hour mb-0"
          >Hour
          <input type="text" formControlName="hour" class="form-control" placeholder="12" />
        </label>
        <label class="minute mb-0"
          >Minute
          <input type="text" formControlName="minute" class="form-control" placeholder="30" />
        </label>
        <label class="second mb-0"
          >Second
          <input type="text" formControlName="second" class="form-control" placeholder="00.000" />
        </label>
      </fieldset>
    </div>
  </div>

  <button class="btn btn-secondary">Send</button>
</form>

<div class="govuk-warning-text col-6 mt-5 mb-5" *ngIf="displayWDFReport">
  <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
  <span class="govuk-warning-text__text">
    You must update your ASC-WDS data before the 31 March {{ effectiveFromDateNextYear }} to qualify for WDF.
  </span>
</div>

<app-tabs *ngIf="displayWDFReport" [displayWDFReport]="displayWDFReport">
  <app-tab title="Workplace">
    <app-workplace-tab [displayWDFReport]="displayWDFReport"></app-workplace-tab>
  </app-tab>

  <app-tab title="Staff records">
    <app-staff-records-tab [displayWDFReport]="displayWDFReport"></app-staff-records-tab>
  </app-tab>
</app-tabs>
