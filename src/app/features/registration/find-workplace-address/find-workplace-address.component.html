<app-error-summary
  *ngIf="submitted && (form.invalid || serverError)"
  [formErrorsMap]="formErrorsMap"
  [form]="form"
  [serverError]="serverError"
>
</app-error-summary>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
    <h1 class="govuk-heading-l">Find your workplace address?</h1>

    <form novalidate [formGroup]="form" (ngSubmit)="onSubmit()">
      <div class="govuk-form-group" [class.govuk-form-group--error]="submitted && getPostcode.errors">
        <label class="govuk-label" for="postcode">
          Postcode
        </label>
        <span *ngIf="submitted && getPostcode.errors" id="postcode-error" class="govuk-error-message">
          <span class="govuk-visually-hidden">Error:</span>
          <ng-container *ngIf="getPostcode.hasError('required')">
            {{ getFormErrorMessage('postcode', 'required') }}
          </ng-container>
          <ng-container *ngIf="getPostcode.hasError('maxlength')">
            {{ getFormErrorMessage('postcode', 'maxlength') }}
          </ng-container>
        </span>
        <input
          class="govuk-input govuk-input--width-10"
          formControlName="postcode"
          id="postcode"
          name="postcode"
          [class.govuk-input--error]="submitted && getPostcode.errors"
          type="text"
        />
        <button type="submit" class="govuk-button govuk-!-margin-left-3 govuk-!-margin-bottom-0">Find address</button>
      </div>
    </form>
  </div>
</div>
