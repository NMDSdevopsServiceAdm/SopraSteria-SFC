<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <fieldset class="govuk-fieldset">
      <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
        <span class="govuk-caption-l" data-testid="section-heading">Update records with training course details</span>
        <h1 class="govuk-heading-l">Select the training records that you want to update</h1>
      </legend>
    </fieldset>

    <app-details [title]="revealText.title" data-testid="reveal-why-is-it-a-good-idea">
      <p class="govuk-body asc__negative-margin-right-4">
        {{ revealText.paragraph }}
      </p>
      <ul class="govuk-list govuk-list--bullet">
        @for(bullet of revealText.bullets; track bullet){
        <li>{{ bullet }}</li>
        }
      </ul>
    </app-details>

    <dl class="govuk-!-margin-bottom-0 govuk-!-margin-top-0" data-testid="training-course-name">
      <dt class="govuk-body govuk-!-font-weight-bold govuk-!-margin-bottom-2">Training course name</dt>
      <dd
        class="govuk-body govuk-util__inline-block govuk-!-margin-left-0 govuk-!-margin-right-4 govuk-!-margin-bottom-0"
      >
        {{ selectedTrainingCourse?.name }}
      </dd>
    </dl>

    <div class="govuk-checkboxes">
      @for(group of trainingRecordsGroupedByTitle; track group.title; let index = $index) {
      <div class="govuk-checkboxes__item">
        <input
          class="govuk-checkboxes__input"
          [id]="'training-records-group-' + index"
          [name]="group.title"
          type="checkbox"
          [value]="index"
        />
        <label class="govuk-label govuk-checkboxes__label" [for]="'training-records-group-' + index">
          {{ group.title }}
          <ng-container [ngPlural]="group.count">
            <ng-template ngPluralCase="=1">({{ group.count }} record)</ng-template>
            <ng-template ngPluralCase="other">({{ group.count }} records)</ng-template>
          </ng-container>
        </label>
      </div>
      }
    </div>
  </div>
</div>
